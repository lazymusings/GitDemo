2022-05-01 14:27:41,346+0530 pool-27-thread-1 INFO      [atlassian-diagnostics-data-logger] 1651395460242 ; INFO ; DB ; DB-3001 ; A slow database operation has been detected ; not-detected ;  ;  ; {"executionTimeInMillis":32215238,"theadDump":[{"id":224,"name":"Caesium-1-4","daemon":true,"state":"RUNNABLE","stackTrace":"java.management@11.0.13/sun.management.ThreadImpl.getThreadInfo1(Native Method)\njava.management@11.0.13/sun.management.ThreadImpl.getThreadInfo(Unknown Source)\ncom.atlassian.diagnostics.internal.detail.DefaultThreadDumpProducer.produce(DefaultThreadDumpProducer.java:40)\ncom.atlassian.diagnostics.internal.platform.monitor.db.DatabaseMonitor.slowOperationAlertDetails(DatabaseMonitor.java:109)\ncom.atlassian.diagnostics.internal.platform.monitor.db.DatabaseMonitor.lambda$null$4(DatabaseMonitor.java:102)\ncom.atlassian.diagnostics.internal.platform.monitor.db.DatabaseMonitor$$Lambda$3947/0x00000001030b0840.get(Unknown Source)\ncom.atlassian.diagnostics.internal.DefaultComponentMonitor$$Lambda$3948/0x00000001030b0c40.apply(Unknown Source)\njava.base@11.0.13/java.util.Optional.map(Unknown Source)\ncom.atlassian.diagnostics.internal.DefaultComponentMonitor.alert(DefaultComponentMonitor.java:75)\ncom.atlassian.diagnostics.internal.InitializingMonitor.lambda$null$0(InitializingMonitor.java:45)\ncom.atlassian.diagnostics.internal.InitializingMonitor$$Lambda$3946/0x00000001030b0440.run(Unknown Source)\ncom.atlassian.diagnostics.internal.concurrent.Gate.ifAccessible(Gate.java:68)\ncom.atlassian.diagnostics.internal.InitializingMonitor.lambda$alert$1(InitializingMonitor.java:42)\ncom.atlassian.diagnostics.internal.InitializingMonitor$$Lambda$3944/0x000000010309f440.accept(Unknown Source)\njava.base@11.0.13/java.util.Optional.ifPresent(Unknown Source)\ncom.atlassian.diagnostics.internal.InitializingMonitor.alert(InitializingMonitor.java:41)\ncom.atlassian.diagnostics.internal.platform.monitor.db.DatabaseMonitor.raiseAlertForSlowOperation(DatabaseMonitor.java:100)\ncom.atlassian.diagnostics.internal.platform.monitor.db.DefaultDatabaseDiagnosticsCollector.raiseAlertIfExecutionExceededThreshold(DefaultDatabaseDiagnosticsCollector.java:84)\ncom.atlassian.diagnostics.internal.platform.monitor.db.DefaultDatabaseDiagnosticsCollector.recordExecutionTime(DefaultDatabaseDiagnosticsCollector.java:74)\ncom.atlassian.jira.diagnostic.connection.DatabaseDiagnosticsCollectorDelegate.recordExecutionTime(DatabaseDiagnosticsCollectorDelegate.java:55)\ncom.atlassian.jira.diagnostic.connection.DiagnosticPreparedStatement.executeUpdate(DiagnosticPreparedStatement.java:69)\norg.ofbiz.core.entity.jdbc.SQLProcessor.executeUpdate(SQLProcessor.java:562)\norg.ofbiz.core.entity.GenericDAO.singleInsert(GenericDAO.java:202)\norg.ofbiz.core.entity.GenericDAO.insert(GenericDAO.java:175)\norg.ofbiz.core.entity.GenericHelperDAO.create(GenericHelperDAO.java:89)\norg.ofbiz.core.entity.GenericDelegator.create(GenericDelegator.java:566)\norg.ofbiz.core.entity.GenericDelegator.create(GenericDelegator.java:552)\norg.ofbiz.core.entity.GenericValue.create(GenericValue.java:114)\ncom.atlassian.jira.ofbiz.DefaultOfBizDelegator.createValue(DefaultOfBizDelegator.java:296)\ncom.atlassian.jira.ofbiz.WrappingOfBizDelegator.createValue(WrappingOfBizDelegator.java:172)\ncom.atlassian.jira.entity.EntityEngineImpl.createValue(EntityEngineImpl.java:29)\ncom.atlassian.jira.scheduler.OfBizRunDetailsDao.addRunDetails(OfBizRunDetailsDao.java:112)\ncom.atlassian.scheduler.core.AbstractSchedulerService.addRunDetails(AbstractSchedulerService.java:136)\ncom.atlassian.scheduler.core.JobLauncher.launch(JobLauncher.java:91)\ncom.atlassian.scheduler.caesium.impl.CaesiumSchedulerService.launchJob(CaesiumSchedulerService.java:435)\ncom.atlassian.scheduler.caesium.impl.CaesiumSchedulerService.executeClusteredJob(CaesiumSchedulerService.java:430)\ncom.atlassian.scheduler.caesium.impl.CaesiumSchedulerService.executeClusteredJobWithRecoveryGuard(CaesiumSchedulerService.java:454)\ncom.atlassian.scheduler.caesium.impl.CaesiumSchedulerService.executeQueuedJob(CaesiumSchedulerService.java:382)\ncom.atlassian.scheduler.caesium.impl.CaesiumSchedulerService$$Lambda$2721/0x0000000102be1440.accept(Unknown Source)\ncom.atlassian.scheduler.caesium.impl.SchedulerQueueWorker.executeJob(SchedulerQueueWorker.java:66)\ncom.atlassian.scheduler.caesium.impl.SchedulerQueueWorker.executeNextJob(SchedulerQueueWorker.java:60)\ncom.atlassian.scheduler.caesium.impl.SchedulerQueueWorker.run(SchedulerQueueWorker.java:35)\njava.base@11.0.13/java.lang.Thread.run(Unknown Source)"}],"plugins":""}
2022-05-01 14:27:41,348+0530 pool-27-thread-1 WARN      [atlassian-diagnostics-data-logger] 1651395458596 ; WARNING ; DB ; DB-2001 ; Database connection leaked ; not-detected ;  ;  ; {"activeConnections":3,"idleConnections":27,"maxConnections":30,"connectionAcquiredTimestampInMillis":1651363241687}
2022-05-02 00:38:13,040+0530 pool-27-thread-1 INFO      [atlassian-diagnostics-data-logger] 1651432093006 ; INFO ; SCHEDULER ; SCHEDULER-3001 ; High scheduler utilization ; not-detected ;  ;  ; {"workerThreads":4,"jobs":[{"jobRunnerKey":"com.atlassian.sal.jira.scheduling.JiraPluginScheduler","jobId":"JiraPluginScheduler:com.atlassian.troubleshooting.healthcheck.scheduler.HealthCheckSchedulerImpl:job","jobRunningTimeInMillis":128,"jobRunnerClass":"com.atlassian.sal.jira.scheduling.JiraPluginScheduler","plugin":"com.atlassian.sal.jira"},{"jobRunnerKey":"com.atlassian.plugins.authentication.common.analytics.PerNodeStatisticsCollectionService","jobId":"analytics-collection-local","jobRunningTimeInMillis":122,"jobRunnerClass":"com.atlassian.plugins.authentication.common.analytics.PerNodeStatisticsCollectionService","plugin":"com.atlassian.plugins.authentication.atlassian-authentication-plugin"},{"jobRunnerKey":"com.atlassian.plugins.authentication.common.analytics.ClusterWideStatisticsCollectionService","jobId":"analytics-collection","jobRunningTimeInMillis":127,"jobRunnerClass":"com.atlassian.plugins.authentication.common.analytics.ClusterWideStatisticsCollectionService","plugin":"com.atlassian.plugins.authentication.atlassian-authentication-plugin"},{"jobRunnerKey":"AnalyticsJob","jobId":"AnalyticsJob","jobRunningTimeInMillis":128,"jobRunnerClass":"com.atlassian.pats.jobs.AnalyticsJob","plugin":"com.atlassian.pats.pats-plugin"}]}
2022-05-02 19:39:00,215+0530 pool-27-thread-1 INFO      [atlassian-diagnostics-data-logger] 1651500540183 ; INFO ; SCHEDULER ; SCHEDULER-3001 ; High scheduler utilization ; not-detected ;  ;  ; {"workerThreads":4,"jobs":[{"jobRunnerKey":"com.atlassian.whisper.plugin.fetch.FetchJob","jobId":"com.atlassian.whisper.plugin.fetch.FetchJob","jobRunningTimeInMillis":63,"jobRunnerClass":"com.atlassian.whisper.plugin.fetch.FetchJob","plugin":"com.atlassian.whisper.atlassian-whisper-plugin"},{"jobRunnerKey":"DailyAlertAnalyticsJob","jobId":"com.atlassian.diagnostics.internal.analytics.DailyAlertAnalyticsJob","jobRunningTimeInMillis":67,"jobRunnerClass":"com.atlassian.diagnostics.internal.analytics.DailyAlertAnalyticsJob$AlertAnalyticsJobRunner"},{"jobRunnerKey":"com.atlassian.sal.jira.scheduling.JiraPluginScheduler","jobId":"JiraPluginScheduler:com.atlassian.troubleshooting.healthcheck.scheduler.HealthCheckSchedulerImpl:job","jobRunningTimeInMillis":53,"jobRunnerClass":"com.atlassian.sal.jira.scheduling.JiraPluginScheduler","plugin":"com.atlassian.sal.jira"},{"jobRunnerKey":"com.atlassian.ratelimiting.internal.configuration.ConfigurationLoggerJob","jobId":"ConfigurationLoggerJob","jobRunningTimeInMillis":64,"jobRunnerClass":"com.atlassian.ratelimiting.internal.configuration.ConfigurationLoggerJob$ConfigurationLoggerJobRunner","plugin":"com.atlassian.ratelimiting.rate-limiting-plugin"}]}
2022-05-03 14:04:55,621+0530 pool-27-thread-1 INFO      [atlassian-diagnostics-data-logger] 1651566895540 ; INFO ; SCHEDULER ; SCHEDULER-3001 ; High scheduler utilization ; not-detected ;  ;  ; {"workerThreads":4,"jobs":[{"jobRunnerKey":"com.atlassian.sal.jira.scheduling.JiraPluginScheduler","jobId":"JiraPluginScheduler:com.atlassian.troubleshooting.healthcheck.scheduler.HealthCheckSchedulerImpl:job","jobRunningTimeInMillis":575,"jobRunnerClass":"com.atlassian.sal.jira.scheduling.JiraPluginScheduler","plugin":"com.atlassian.sal.jira"},{"jobRunnerKey":"TokenPruningJob","jobId":"com.atlassian.oauth2.client.jobs.TokenPruningJob","jobRunningTimeInMillis":112,"jobRunnerClass":"com.atlassian.oauth2.client.jobs.TokenPruningJob","plugin":"com.atlassian.oauth2.oauth2-client-plugin"},{"jobRunnerKey":"com.atlassian.ratelimiting.internal.analytics.AnalyticsBatchEventsPublisherJob","jobId":"AnalyticsBatchEventsPublisherJob","jobRunningTimeInMillis":101,"jobRunnerClass":"com.atlassian.ratelimiting.internal.analytics.AnalyticsBatchEventsPublisherJob$AnalyticsPublisherJobRunner","plugin":"com.atlassian.ratelimiting.rate-limiting-plugin"},{"jobRunnerKey":"StatisticsJob","jobId":"com.atlassian.oauth2.provider.core.jobs.StatisticsJob","jobRunningTimeInMillis":110,"jobRunnerClass":"com.atlassian.oauth2.provider.core.jobs.StatisticsJob","plugin":"com.atlassian.oauth2.oauth2-provider-plugin"}]}
2022-05-03 19:31:20,381+0530 pool-27-thread-1 INFO      [atlassian-diagnostics-data-logger] 1651586478506 ; INFO ; DB ; DB-3001 ; A slow database operation has been detected ; not-detected ;  ;  ; {"executionTimeInMillis":2924303,"theadDump":[{"id":130,"name":"pool-31-thread-1","daemon":false,"state":"RUNNABLE","stackTrace":"java.management@11.0.13/sun.management.ThreadImpl.getThreadInfo1(Native Method)\njava.management@11.0.13/sun.management.ThreadImpl.getThreadInfo(Unknown Source)\ncom.atlassian.diagnostics.internal.detail.DefaultThreadDumpProducer.produce(DefaultThreadDumpProducer.java:40)\ncom.atlassian.diagnostics.internal.platform.monitor.db.DatabaseMonitor.slowOperationAlertDetails(DatabaseMonitor.java:109)\ncom.atlassian.diagnostics.internal.platform.monitor.db.DatabaseMonitor.lambda$null$4(DatabaseMonitor.java:102)\ncom.atlassian.diagnostics.internal.platform.monitor.db.DatabaseMonitor$$Lambda$3947/0x00000001030b0840.get(Unknown Source)\ncom.atlassian.diagnostics.internal.DefaultComponentMonitor$$Lambda$3948/0x00000001030b0c40.apply(Unknown Source)\njava.base@11.0.13/java.util.Optional.map(Unknown Source)\ncom.atlassian.diagnostics.internal.DefaultComponentMonitor.alert(DefaultComponentMonitor.java:75)\ncom.atlassian.diagnostics.internal.InitializingMonitor.lambda$null$0(InitializingMonitor.java:45)\ncom.atlassian.diagnostics.internal.InitializingMonitor$$Lambda$3946/0x00000001030b0440.run(Unknown Source)\ncom.atlassian.diagnostics.internal.concurrent.Gate.ifAccessible(Gate.java:68)\ncom.atlassian.diagnostics.internal.InitializingMonitor.lambda$alert$1(InitializingMonitor.java:42)\ncom.atlassian.diagnostics.internal.InitializingMonitor$$Lambda$3944/0x000000010309f440.accept(Unknown Source)\njava.base@11.0.13/java.util.Optional.ifPresent(Unknown Source)\ncom.atlassian.diagnostics.internal.InitializingMonitor.alert(InitializingMonitor.java:41)\ncom.atlassian.diagnostics.internal.platform.monitor.db.DatabaseMonitor.raiseAlertForSlowOperation(DatabaseMonitor.java:100)\ncom.atlassian.diagnostics.internal.platform.monitor.db.DefaultDatabaseDiagnosticsCollector.raiseAlertIfExecutionExceededThreshold(DefaultDatabaseDiagnosticsCollector.java:84)\ncom.atlassian.diagnostics.internal.platform.monitor.db.DefaultDatabaseDiagnosticsCollector.recordExecutionTime(DefaultDatabaseDiagnosticsCollector.java:74)\ncom.atlassian.jira.diagnostic.connection.DatabaseDiagnosticsCollectorDelegate.recordExecutionTime(DatabaseDiagnosticsCollectorDelegate.java:55)\ncom.atlassian.jira.diagnostic.connection.DiagnosticPreparedStatement.executeQuery(DiagnosticPreparedStatement.java:59)\norg.ofbiz.core.entity.jdbc.SQLProcessor.executeQuery(SQLProcessor.java:527)\norg.ofbiz.core.entity.GenericDAO.createEntityListIterator(GenericDAO.java:881)\norg.ofbiz.core.entity.GenericDAO.selectListIteratorByCondition(GenericDAO.java:861)\norg.ofbiz.core.entity.GenericHelperDAO.findListIteratorByCondition(GenericHelperDAO.java:216)\norg.ofbiz.core.entity.GenericDelegator.findListIteratorByCondition(GenericDelegator.java:1247)\ncom.atlassian.jira.ofbiz.DefaultOfBizDelegator.findListIteratorByCondition(DefaultOfBizDelegator.java:405)\ncom.atlassian.jira.ofbiz.WrappingOfBizDelegator.findListIteratorByCondition(WrappingOfBizDelegator.java:283)\ncom.atlassian.jira.entity.SelectQueryImpl$ExecutionContextImpl.forEach(SelectQueryImpl.java:227)\ncom.atlassian.jira.entity.SelectQueryImpl$ExecutionContextImpl.consumeWith(SelectQueryImpl.java:214)\ncom.atlassian.jira.entity.SelectQueryImpl$ExecutionContextImpl.singleValue(SelectQueryImpl.java:191)\ncom.atlassian.jira.scheduler.OfBizRunDetailsDao.getLastRunForJob(OfBizRunDetailsDao.java:89)\ncom.atlassian.scheduler.core.DefaultSchedulerHistoryService.getLastRunForJob(DefaultSchedulerHistoryService.java:29)\ncom.atlassian.diagnostics.internal.platform.monitor.scheduler.DefaultSchedulerDiagnosticProvider.getRunDetails(DefaultSchedulerDiagnosticProvider.java:69)\ncom.atlassian.diagnostics.internal.platform.monitor.scheduler.DefaultSchedulerDiagnosticProvider.lambda$null$2(DefaultSchedulerDiagnosticProvider.java:62)\ncom.atlassian.diagnostics.internal.platform.monitor.scheduler.DefaultSchedulerDiagnosticProvider$$Lambda$1551/0x00000001020ebc40.apply(Unknown Source)\njava.base@11.0.13/java.util.stream.ReferencePipeline$3$1.accept(Unknown Source)\njava.base@11.0.13/java.util.Collections$2.tryAdvance(Unknown Source)\njava.base@11.0.13/java.util.Collections$2.forEachRemaining(Unknown Source)\njava.base@11.0.13/java.util.stream.AbstractPipeline.copyInto(Unknown Source)\njava.base@11.0.13/java.util.stream.AbstractPipeline.wrapAndCopyInto(Unknown Source)\njava.base@11.0.13/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(Unknown Source)\njava.base@11.0.13/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(Unknown Source)\njava.base@11.0.13/java.util.stream.AbstractPipeline.evaluate(Unknown Source)\njava.base@11.0.13/java.util.stream.ReferencePipeline.forEach(Unknown Source)\njava.base@11.0.13/java.util.stream.ReferencePipeline$7$1.accept(Unknown Source)\njava.base@11.0.13/java.util.stream.Streams$StreamBuilderImpl.forEachRemaining(Unknown Source)\njava.base@11.0.13/java.util.stream.ReferencePipeline$Head.forEach(Unknown Source)\njava.base@11.0.13/java.util.stream.ReferencePipeline$7$1.accept(Unknown Source)\njava.base@11.0.13/java.util.Spliterators$ArraySpliterator.forEachRemaining(Unknown Source)\njava.base@11.0.13/java.util.stream.AbstractPipeline.copyInto(Unknown Source)\njava.base@11.0.13/java.util.stream.AbstractPipeline.wrapAndCopyInto(Unknown Source)\njava.base@11.0.13/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(Unknown Source)\njava.base@11.0.13/java.util.stream.AbstractPipeline.evaluate(Unknown Source)\njava.base@11.0.13/java.util.stream.ReferencePipeline.collect(Unknown Source)\ncom.atlassian.diagnostics.internal.platform.monitor.scheduler.DefaultSchedulerDiagnosticProvider.getScheduledJobs(DefaultSchedulerDiagnosticProvider.java:65)\ncom.atlassian.diagnostics.internal.platform.monitor.scheduler.DefaultSchedulerDiagnosticProvider.getDiagnostic(DefaultSchedulerDiagnosticProvider.java:45)\njdk.internal.reflect.GeneratedMethodAccessor274.invoke(Unknown Source)\njava.base@11.0.13/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\njava.base@11.0.13/java.lang.reflect.Method.invoke(Unknown Source)\ncom.atlassian.plugin.util.ContextClassLoaderSettingInvocationHandler.invoke(ContextClassLoaderSettingInvocationHandler.java:26)\ncom.sun.proxy.$Proxy343.getDiagnostic(Unknown Source)\njdk.internal.reflect.GeneratedMethodAccessor274.invoke(Unknown Source)\njava.base@11.0.13/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\njava.base@11.0.13/java.lang.reflect.Method.invoke(Unknown Source)\norg.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\norg.eclipse.gemini.blueprint.service.importer.support.internal.aop.ServiceInvoker.doInvoke(ServiceInvoker.java:56)\norg.eclipse.gemini.blueprint.service.importer.support.internal.aop.ServiceInvoker.invoke(ServiceInvoker.java:60)\norg.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\norg.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:137)\norg.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:124)\norg.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\norg.eclipse.gemini.blueprint.service.util.internal.aop.ServiceTCCLInterceptor.invokeUnprivileged(ServiceTCCLInterceptor.java:70)\norg.eclipse.gemini.blueprint.service.util.internal.aop.ServiceTCCLInterceptor.invoke(ServiceTCCLInterceptor.java:53)\norg.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\norg.eclipse.gemini.blueprint.service.importer.support.LocalBundleContextAdvice.invoke(LocalBundleContextAdvice.java:57)\norg.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\norg.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:137)\norg.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:124)\norg.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\norg.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\ncom.sun.proxy.$Proxy1844.getDiagnostic(Unknown Source)\ncom.atlassian.diagnostics.internal.platform.monitor.scheduler.SchedulerPoller.execute(SchedulerPoller.java:35)\ncom.atlassian.diagnostics.internal.platform.poller.ScheduledPollerService.lambda$run$1(ScheduledPollerService.java:64)\ncom.atlassian.diagnostics.internal.platform.poller.ScheduledPollerService$$Lambda$1519/0x00000001020a5040.run(Unknown Source)\njava.base@11.0.13/java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)\njava.base@11.0.13/java.util.concurrent.FutureTask.runAndReset(Unknown Source)\njava.base@11.0.13/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(Unknown Source)\njava.base@11.0.13/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\njava.base@11.0.13/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\njava.base@11.0.13/java.lang.Thread.run(Unknown Source)"}],"plugins":"org.apache.servicemix.bundles.spring-aop-5.3.10.1 -> org.eclipse.gemini.blueprint.core-3.0.0.M01"}
2022-05-03 19:31:20,889+0530 pool-27-thread-1 WARN      [atlassian-diagnostics-data-logger] 1651586480864 ; WARNING ; DB ; DB-2001 ; Database connection leaked ; not-detected ;  ;  ; {"activeConnections":2,"idleConnections":28,"maxConnections":30,"connectionAcquiredTimestampInMillis":1651583554203}
